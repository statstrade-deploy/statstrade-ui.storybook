"use strict";(self.webpackChunkstorybook_app=self.webpackChunkstorybook_app||[]).push([[46282],{"../../packages/ui/dist/jsx/primitives/hooks/useDateAnimation.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{useDateAnimation:()=>useDateAnimation});var _rehookify_datepicker__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@rehookify/datepicker/dist/index.esm.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/next/dist/compiled/react/index.js");function useDateAnimation({listenTo}){const{data:{years,calendars}}=(0,_rehookify_datepicker__WEBPACK_IMPORTED_MODULE_1__.nx)(),[currentMonth,setCurrentMonth]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),[currentYear,setCurrentYear]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),[currentYearsSum,setCurrentYearsSum]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),sumYears=()=>years.reduce(((acc,date)=>acc+date.year),0);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{"years"===listenTo&&currentYearsSum!==sumYears()&&setCurrentYearsSum(sumYears())}),[years,currentYearsSum]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{"month"===listenTo&&currentMonth!==calendars[0].month&&setCurrentMonth(calendars[0].month)}),[calendars[0][listenTo],currentMonth]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{"year"===listenTo&&currentYear!==calendars[0].year&&setCurrentYear(calendars[0].year)}),[calendars[0][listenTo],currentYear]),{prevNextAnimation:()=>{if("years"===listenTo)return null===currentYearsSum?{enterStyle:{opacity:0}}:{enterStyle:{opacity:0,x:sumYears()<currentYearsSum?-15:15},exitStyle:{opacity:0,x:sumYears()<currentYearsSum?-15:15}};if("month"===listenTo){if(null===currentMonth)return{enterStyle:{opacity:0}};const newDate=new Date(`${calendars[0][listenTo]} 1, ${calendars[0].year}`),currentDate=new Date(`${currentMonth} 1, ${calendars[0].year}`);return"December"===currentMonth&&"January"===calendars[0].month?{enterStyle:{opacity:0,x:15},exitStyle:{opacity:0,x:15}}:"January"===currentMonth&&"December"===calendars[0].month?{enterStyle:{opacity:0,x:-15},exitStyle:{opacity:0,x:-15}}:{enterStyle:{opacity:0,x:newDate<currentDate?-15:15},exitStyle:{opacity:0,x:newDate<currentDate?-15:15}}}if("year"===listenTo){if(null===currentYear)return{enterStyle:{opacity:0}};const newDate=new Date(`${calendars[0].month} 1, ${calendars[0].year}`),currentDate=new Date(`${calendars[0].month} 1, ${currentYear}`);return{enterStyle:{opacity:0,x:newDate<currentDate?-15:15},exitStyle:{opacity:0,x:newDate<currentDate?-15:15}}}},prevNextAnimationKey:"years"===listenTo?sumYears():calendars[0][listenTo]}}}}]);